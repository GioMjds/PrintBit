You‚Äôre building:
Offline browser kiosk + Node.js + Express + Arduino serial coin slot + Windows tablet.

Here‚Äôs what you can fully build and test without the printer.

‚úÖ What You Can Fully Develop & Test Now

- Local WiFi hotspot setup (tablet or router)
- QR code generation for:
- WiFi auto connect
- Local upload URL
- File upload system (PDF only for now)
- File size validation (ex: max 10MB)
- Page count extraction (use a PDF parser library)
- Price computation logic (per page, color vs BW)
- Coin slot serial communication (1, 5, 10, 20)
- Balance tracking logic
- Auto timeout when user is inactive
- Session-based transaction handling
- Job summary screen
- Auto delete files after session
- Logging system (every coin + upload + cancel)
- Admin dashboard (local only)

You can complete 80% of the system without touching the printer.

üîß Stability Improvements to Focus On

Since this is hardware-connected, stability matters more than features.

- Debounce handling for serial data
- Prevent double-coin counting
- Serial reconnect if Arduino disconnects
- Server auto-restart handling
- Handle corrupted uploads
- Validate PDF before accepting
- Prevent duplicate job submission
- Idle timeout auto reset (important in public kiosk)
- Graceful shutdown cleanup
- Handle power interruption recovery (store active session in memory or temp file)

Your capstone panel will care about reliability.

üë®‚Äçüíº Admin Features You Can Build Now

- View total earnings (today, week, all time)
- View coin breakdown (1,5,10,20 counts)
- View total jobs processed
- Export logs to CSV
- Set price per page
- Set price for color
- Set idle timeout duration
- Reset machine balance
- Clear storage manually
- View storage usage
- System status page:
  - Arduino connected or not
  - WiFi active
  - Server running
- Make admin accessible only via:
  - Secret key combination
  - Or local IP only
  - Or hidden route

üîí Security Improvements for Kiosk Mode

This is very important for capstone.

- Run browser in kiosk mode
- Disable right click
- Disable F12
- Disable Ctrl+Shift+I
- Disable Alt+Tab (Windows kiosk config)
- Prevent file system access
- Accept PDF only
- Sanitize file names
- Block path traversal
- Auto delete files after job
- Lock system to single tab
- No external internet requests
- Disable external printing from other devices

You want this to feel locked down like an ATM.

üí° Smart Additional Features (That Impress Panels)

- Live balance indicator
- Animated coin insert feedback
- File preview before confirmation
- Estimated print time display
- Low storage warning
- Daily earnings summary popup
- Admin PIN protected panel
- Usage analytics graph (simple chart)
- Printable transaction receipt page (even if no printer yet)
- Simple scan-to-view transaction history QR (admin only)

Add features that show thinking beyond just printing.

üßæ Prioritized Checklist Before Real Printer Integration

Focus on this order:

Core System

- Stable file upload
- PDF validation
- Accurate page count detection
- Accurate pricing logic
- Stable coin reading
- Proper grouping of pulses
- Balance computation
- Session lifecycle control

Stability

- Serial reconnect logic
- Idle timeout reset
- Auto cleanup after cancel
- Logging system complete
- Error handling screens

Security

- Kiosk mode setup tested
- Admin route protected
- File sanitization complete
- No external network dependency

Admin Panel

- Earnings tracking
- Price configuration
- Log export
- System status

If these are solid, integrating the real printer becomes only one module.

üñ®Ô∏è Printer Integration (SumatraPDF Silent Printing)

Setup:
- Download SumatraPDF portable 64-bit from https://www.sumatrapdfreader.org/
- Place the .exe as bin/SumatraPDF.exe in the project root
- The bin/ directory is gitignored ‚Äî each kiosk machine needs its own copy

How it works:
- src/services/printer.ts uses SumatraPDF CLI for silent, dialog-free printing
- Command: SumatraPDF.exe -print-to-default -print-settings "<settings>" "<file>"
- Settings from /config page (color, copies, orientation, paper size) are passed programmatically
- No OS print dialog (Ctrl+P) appears ‚Äî everything is controlled by the kiosk system
- Prints to the OS default printer automatically